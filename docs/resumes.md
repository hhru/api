# Резюме

* [Список резюме авторизованного пользователя](#mine)
* [Просмотр резюме](#item)
  * [Платные услуги для соискателя, связанные с резюме](#applicant-paid-services)
  * [Платные услуги для работодателя, связанные с резюме](#paid-services)
* [Создание и редактирование резюме](#create_edit)
* [Публикация и продление резюме](#publish)
* [Клонирование резюме](#clone)
* [Условия заполнения полей резюме](#conditions)
* [Условия заполнения полей нового резюме](#init-conditions)
* [Условия заполнения контактов в резюме](#conditions-contacts)
* [Дополнительные правила заполнения полей резюме](#conditions-other)
* [Короткое представление резюме](#resume-nano)
* [Сокращенное представление резюме](#resume-short)
* [Статусы резюме](#status)
* [Видимость резюме](#access_type)
* [История просмотра резюме](#views)
* [Поиск по вакансиям, похожим на резюме](#similar)


<a name="mine"></a>
## Список резюме авторизованного пользователя

`GET /resumes/mine` возвращает список резюме авторизованного пользователя. Без
авторизации вернёт `403 Forbidden`.

```json
{
    "items": [
        {
            "access": {
                "type": {
                    "id": "clients",
                    "name": "видно всем компаниям, зарегистрированным на HeadHunter"
                }
            },
            "total_views": 0,
            "new_views": 0,
            "status": {
                "id": "published",
                "name": "опубликовано"
            },
            "views_url": "https://api.hh.ru/resumes/0123456789abcdef/views",

            "id": "0123456789abcdef",
            "title": "Начинающий специалист",
            "url": "https://api.hh.ru/resumes/0123456789abcdef",
            "first_name": "Иван",
            "last_name": "Иванов",
            "middle_name": "Иванович",
            "age": 19,
            "alternate_url": "http://hh.ru/resume/0123456789abcdef",
            "created_at": "2015-02-06T12:00:00+0300",
            "updated_at": "2015-04-20T16:24:15+0300",
            "area": {
                "id": "1",
                "name": "Москва",
                "url": "https://api.hh.ru/areas/1"
            },
            "certificate": [
                {
                    "achieved_at": "2015-01-01",
                    "owner": null,
                    "title": "тест",
                    "type": "custom",
                    "url": "http://example.com/"
                }
            ],
            "education": {
                "primary": [
                    {
                        "name": "Российский государственный социальный университет, Москва",
                        "name_id": "39420",
                        "organization": "Факультет информационных технологий",
                        "organization_id": null,
                        "result": "Информатика",
                        "result_id": null,
                        "year": 2012
                    }
                ]
            },
            "total_experience": {
                "months": 118
            },
            "experience": [
                {
                    "position": "пастух",
                    "start": "2010-01-01",
                    "end": null,
                    "company": "Рога и копыта",
                    "industries": [
                        {
                            "id": "51.643",
                            "name": "Благоустройство и уборка территорий и зданий"
                        },
                        {
                            "id": "29.503",
                            "name": "Земледелие, растениеводство, животноводство"
                        }
                    ],
                    "company_url": "http://example.com/",
                    "area": {
                        "id": "1",
                        "name": "Москва",
                        "url": "https://api.hh.ru/areas/1"
                    },
                    "company_id": null,
                    "employer": null
                },
                {
                    "start": "2005-01-01",
                    "end": "2009-03-01",
                    "company": "HeadHunter",
                    "area": {
                        "id": "1",
                        "name": "Москва",
                        "url": "https://api.hh.ru/areas/1"
                    },
                    "industries": [
                        {
                            "id": "7.513",
                            "name": "Интернет-компания  (поисковики, платежные системы, соц.сети, информационно-познавательные и развлекательные ресурсы, продвижение сайтов и прочее)"
                        }
                    ],
                    "company_url": "http://hh.ru",
                    "company_id": "1455",
                    "employer": {
                        "alternate_url": "http://hh.ru/employer/1455",
                        "id": "1455",
                        "logo_urls": {
                            "90": "http://hh.ru/employer/logo/1455"
                        },
                        "name": "HeadHunter",
                        "url": "https://api.hh.ru/employers/1455"
                    }
                }
            ],
            "gender": {
                "id": "male",
                "name": "Мужской"
            },
            "salary": {
                "amount": 1000000,
                "currency": "RUR"
            },
            "photo": {
                "medium": "http://hh.ru/...",
                "small": "http://hh.ru/...",
                "id": "1337"
            },
            "similar_vacancies": {
                "url": "https://api.hh.ru/resumes/0123456789abcdef/similar_vacancies",
                "counters": {
                    "total": 1507
                }
            }
        }
    ],
    "page": 0,
    "per_page": 1,
    "pages": 1,
    "found": 1
}
```

Поля резюме аналогичны [полям при редактировании](#resume-keys), а также
дополнительно содержат:

* `total_views` - число просмотров резюме
* `new_views` — число новых просмотров. Данный счетчик сбрасывается при
  получении [детальной истории просмотров](#views).
* `views_url` - url, по которому необходимо сделать GET запрос для получения
  [детальной истории просмотров](#views)
* `status` – [статус резюме](#status)
* `similar_vacancies` – информация о вакансиях, похожих на это резюме
  * `similar_vacancies.url` - url, по которому необходимо сделать GET запрос,
    для получения [вакансий, похожих на данное резюме](#similar)
  * `similar_vacancies.counters.total` - общее количество похожих вакансий


<a name="item"></a>
## Просмотр резюме

`GET /resumes/{resume_id}` возвращает указанное резюме. Если в резюме указан тип
видимости «видно всему интернету» или «по прямой ссылке» (`everyone` и `direct`
соответственно), возможен запрос резюме без авторизации.

Для авторизованного автора возвращается более детальная информация, включая тип
видимости и комментарии модераторов.

Если резюме не существует или недоступно пользователю, то в ответ придёт
`404 Not Found`.

Если просмотр полных данных по резюме недоступен при текущей авторизации, в
некоторых полях будет `null`, а поле `can_view_full_info` будет иметь
значение `false`.

```json
{
    "id": "12345678901234567890123456789012abcdef",
    "last_name": "Фамилия",
    "first_name": "Имя",
    "middle_name": "Отчество",
    "birth_date": "1980-05-08",
    "gender": {
        "id": "male",
        "name": "Мужской"
    },
    "photo": {
        "small": "http://hh.ru/...",
        "medium": "http://hh.ru/...",
        "id": "1337"
    },
    "portfolio": [
        {
            "small": "http://hh.ru/...",
            "medium": "http://hh.ru/...",
            "id": "1337",
            "description": "..."
        }
    ],
    "area": {
        "url": "https://api.hh.ru/areas/1",
        "id": "1",
        "name": "Москва"
    },
    "metro": {
        "lat": 55.658147,
        "lng": 37.540957,
        "order": 19,
        "id": "6.41",
        "name": "Калужская"
    },
    "relocation": {
        "type": {
            "id": "relocation_possible",
            "name": "готов к переезду"
        },
        "area": [
            {
                "url": "https://api.hh.ru/areas/2",
                "id": "2",
                "name": "Санкт-Петербург"
            },
            {
                "url": "https://api.hh.ru/areas/76",
                "id": "76",
                "name": "Ростов-на-Дону"
            }
        ]
    },
    "business_trip_readiness": {
        "id": "ready",
        "name": "Готов к командировкам"
    },
    "contact": [
        {
            "comment": null,
            "type": {
                "id": "cell",
                "name": "Мобильный телефон"
            },
            "preferred": true,
            "value": {
                "country": "7",
                "city": "123",
                "number": "4567890",
                "formatted": "+71234567890"
            }
        },
        {
            "type": {
                "id": "email",
                "name": "Эл. почта"
            },
            "preferred": false,
            "value": "applicant@example.com"
        }
    ],
    "site": [
        {
            "url": "echo123",
            "type": {
                "id": "skype",
                "name": "Skype"
            }
        },
        {
            "url": "123456",
            "type": {
                "id": "icq",
                "name": "ICQ"
            }
        }
    ],
    "title": "Программист Python",
    "specialization": [
        {
            "id": "1.221",
            "name": "Программирование, Разработка",
            "profarea_id": "1",
            "profarea_name": "Информационные технологии, интернет, телеком"
        },
        {
            "id": "1.89",
            "name": "Интернет",
            "profarea_id": "1",
            "profarea_name": "Информационные технологии, интернет, телеком"
        },
        {
            "id": "1.9",
            "name": "Web инженер",
            "profarea_id": "1",
            "profarea_name": "Информационные технологии, интернет, телеком"
        }
    ],
    "salary": {
        "amount": 100500,
        "currency": "RUR"
    },
    "employment": {
        "id": "full",
        "name": "Полная занятость"
    },
    "schedules": [
        {
            "id": "fullDay",
            "name": "Полный день"
        },
        {
            "id": "flexible",
            "name": "Гибкий график"
        }
    ],
    "education": {
        "elementary": [
            {
                "name": "Школа №1923",
                "year": 2003
            }
        ],
        "additional": [
            {
                "name": "Курс повышения квалификации",
                "organization": "Проводившая организация",
                "result": "Специализация",
                "year": 2006
            }
        ],
        "attestation": [
            {
                "name": "Тест на IQ",
                "organization": "IQ центр",
                "result": "Интеллект квалификейшн",
                "year": 2005
            }
        ],
        "primary": [
            {
                "name": "Московская государственная академия ветеринарной медицины и биотехнологии имени К.И. Скрябина, Москва",
                "name_id": "39464",
                "organization": "Факультет зоотехнологий и агробизнеса",
                "organization_id": "25181",
                "result": "Социальная психология",
                "result_id": null,
                "year": 2000
            }
        ],
        "level": {
            "id": "higher",
            "name": "Высшее"
        }
    },
    "language": [
        {
            "id": "rus",
            "name": "Русский",
            "level": {
                "id": "native",
                "name": "родной"
            }
        },
        {
            "id": "eng",
            "name": "Английский",
            "level": {
                "id": "can_read",
                "name": "читаю профессиональную литературу"
            }
        }
    ],
    "total_experience": {
        "months": 94
    },
    "experience": [
        {
            "company": "Название работадателя",
            "company_id": null,
            "area": {
                "url": "https://api.hh.ru/areas/113",
                "id": "113",
                "name": "Россия"
            },
            "company_url": "http://www.rbc.ru",
            "industries": [
                {
                    "id": "7.540",
                    "name": "Разработка программного обеспечения"
                },
                {
                    "id": "9.399",
                    "name": "Мобильная связь"
                }
            ],
            "position": "Должность",
            "start": "2005-04-01",
            "end": "2013-01-01",
            "description": "Описание деятельности в компании"
        }
    ],
    "skills": "Дополнительная информация: ключевые навыки",
    "skill_set": [
        "HTML",
        "CSS"
    ],
    "citizenship": [
        {
            "url": "https://api.hh.ru/areas/113",
            "id": "113",
            "name": "Россия"
        }
    ],
    "work_ticket": [
        {
            "url": "https://api.hh.ru/areas/113",
            "id": "113",
            "name": "Россия"
        }
    ],
    "travel_time": {
        "id": "any",
        "name": "Не имеет значения"
    },
    "recommendation": [
        {
            "name": "Петров Петр",
            "position": "старший научный сотрудник",
            "organization": "Роскосмос",
            "contact": "+7 495 123 45 67"
        }
    ],
    "alternate_url": "http://hh.ru/resume/12345678901234567890123456789012abcdef",
    "resume_locale": {
        "id": "RU",
        "name": "Русский"
    },
    "created_at": "2013-05-31T14:27:04+0400",
    "updated_at": "2013-10-17T15:22:55+0400",
    "blocked": false,
    "total_views": 0,
    "new_views": 0,
    "finished": false,
    "status": {
        "id": "not_published",
        "name": "не опубликовано"
    },
    "owner": {
        "comments": {
            "url": "https://api.hh.ru/applicant_comments/123456",
            "counters": {
                "total": 7
            }
        }
    },
    "can_view_full_info": true,
    "_progress": {
        "percentage": 42,
        "mandatory": [
            "citizenship",
            "language",
            "area",
            "skills",
            "contact",
            "education",
            "specialization"
        ],
        "recommended": [
            "salary",
            "middle_name",
            "work_ticket",
            "site",
            "recommendation",
            "birth_date"
        ]
    }
}
```

Владельцу резюме выдается информация о заполненности резюме в поле
`_progress`:

 Поле | Описание
 ---- | --------
 percentage | Процент заполненности резюме.
 mandatory | Обязательные, но еще не заполненные поля.
 recommended | Рекомендованные к заполнению, но ещё не заполненные поля.

<a name="owner-field"></a>
Работодателю дополнительно выдаётся поле `owner.comments.url`, содержащее
url, GET запрос на который возвращает
[список комментариев к владельцу резюме](applicant_comments.md#list).

<a name="applicant-paid-services"></a>
### Платные услуги для соискателя, связанные с резюме

Соискателю для своих резюме выводится список платных услуг.

```json
{
  "paid_services": [
    {
      "id": "resume_autoupdating",
      "name": "Автообновление резюме",
      "active": false
    },
    {
      "id": "resume_marked",
      "name": "Яркое резюме",
      "active": true,
      "expires": "2016-06-08T18:25:25+0300"
    }
  ]
}
```

По каждой услуге выдаются поля:

Имя | Тип | Описание
--- | --- | ---
id | строка | идентификатор услуги
name | строка | название услуги
active | логический | активна ли в данный момент услуга
expires | строка (дата) | время окончания действия услуги, если услуга активна


<a name="paid-services"></a>
### Платные услуги для работодателя, связанные с резюме

Работодателю может быть предложен список платных услуг по резюме.

Например, если полные данные по резюме недоступны, то будет выдано
предложение покупки рекомендованной услуги, чтобы такой доступ получить.

```json
{
    "can_view_full_info": false,
    "paid_services": [
        {
            "id": "resume_database_access",
            "name": "Доступ к базе резюме",
            "price_list": {
                "alternate_url": "http://hh.ru/price#dbaccess"
            },
            "quick_purchase": {
                "alternate_url": "http://hh.ru/employer/invoice/purchase?code=FA&hhAreaId=1&period=1&profAreaIds=0",
                "currency": {
                    "abbr": "руб.",
                    "code": "RUR",
                    "name": "Рубли"
                },
                "name": "Купить за 5000 руб.",
                "price": 5000
            }
        }
    ]
}
```

`paid_services` – список услуг.

По каждой услуге выдаются поля:

Имя | Тип | Описание
--- | --- | ---
id | строка | идентификатор услуги
name | строка | название услуги
price_list.alternate_url | строка | ссылка на сайт, по которой доступен полный прайс на услугу
quick_purchase | объект, null | описание быстрой покупки услуги, если доступно
quick_purchase.alternate_url | строка | ссылка на сайт, по которой будет предложено купить услугу
quick_purchase.name | строка | название действия по заказу услуги
quick_purchase.price | число | цена услуги
quick_purchase.currency | объект | валюта услуги


<a name="create_edit"></a>
## Создание и редактирование резюме

`POST /resumes` — добавление резюме.

`PUT /resumes/{resume_id}` — редактирование существующего. В качестве тела
запроса используется json в том же формате, что отдается при GET запросе. При
этом для полей с данными справочников из передаваемой JSON-структуры
используются только id передаваемых данных. Например, в резюме в поле владения
языками, указан русский как родной:

```json
    "language": [
        {
            "id": "rus",
            "name": "Русский",
            "level": {
                "id": "native",
                "name": "родной"
            }
        }
     ]
```

Для того, чтобы добавить английский с уровнем знания «читаю профессиональную
литературу», необходимо отправить следующий JSON:

```json
    "language": [
        {
            "id": "rus",
            "name": "Русский",
            "level": {
                "id": "native",
                "name": "родной"
            }
        },
        {
            "id": "eng",
            "level": {
                "id": "can_read"
            }
        }
    ]
```

Первый элемент списка — это русский, который у нас уже был в языках, а второй —
это новый элемент, английский, который мы хотим добавить. Поля `language.name` и
`language.level.name`, в данном случае, не мешают, но и не несут полезную
информацию.

При отправке данные заменяют уже существующие данные указанного параметра.
Каждый параметр можно отправлять отдельно от остальных.

<a name="resume-keys"></a>
Параметры:

* `last_name` — фамилия;
* `first_name` — имя;
* `middle_name` — отчество;
* `birth_date` — день рождения (ГГГГ-ММ-ДД);
* `gender` — пол. Элемент справочника [gender](dictionaries.md);
* `photo` — фотография пользователя. см. [артефакты](artifacts.md);
* `portfolio` — портфолио пользователя. см. [артефакты](artifacts.md);
* `area` — город проживания. Элемент справочника [areas](areas.md);
* `metro` — ближайшая станция метро. Элемент справочника [metro](metro.md).
  Имеет смысл указывать только для `area` с метро;
* `relocation` — возможен ли переезд в другой город. Состоит из полей:
    * `type` — элемент справочника [relocation_type](dictionaries.md);
    * `areas` — город, в который возможен переезд (список). Имеет смысл
      только с соответствующим полем `type`. Элемент справочника
      [areas](areas.md);
* `business_trip_readiness` — готовность к командировкам. Элемент справочника
  [resume_trip_readiness](dictionaries.md#resume_trip_readiness)
* `contact` — контактная информация (список). Состоит из полей:
    * `type` — элемент справочника [prefered_contact_type](dictionaries.md)
    * `value` — значение контакта. Для телефона состоит из четырех полей (`country `, `city`, `number`, `formatted`),
      для электронного адреса — строка.
    * `preferred` — предпочитаемый вид связи (`true` или `false`);
    * `comment` — комментарий к контакту;
* `site` — присутствие на других сайтах. Состоит из полей:
    * `type` — тип сайта. Элемент справочника
      [resume_contacts_site_type](dictionaries.md);
    * `url` — ссылка на профиль, либо идентификатор на строннем сайте/сервисе;
* `title` — желаемая должность;
* `specialization` — специализация соискателя (список). Элемент справочника
  [specializations](specializations.md);
* `salary` — желаемая зарпалат. Состоит из полей:
    * `amount` — сумма;
    * `currency` — идентификатор [валюты](dictionaries.md);
* `employment` — занятость. Элемет справочника [employment](dictionaries.md)
* `schedules` — график работы. Список из элементов справочника [schedule](dictionaries.md)
* `education` — образование. Состоит из полей:
    * `elementary` — среднее образование (список). Обычно заполняется только
       при отсутствии высшего образования. Состоит из полей:
        * `year` — год окончания;
        * `name` — название учебного заведения;
    * `additional` — курсы повышения квалификации (список). Состоит из полей:
        * `organization` — организация, проводившая курс;
        * `name` — название курса;
        * `result` — специальность / специализация;
        * `year` — год окончания;
    * `attestation` — тесты, экзамены (список):
        * `organization` — организация, проводившая тест или экзамен;
        * `name` — название тест или экзамена;
        * `result` — специальность / специализация;
        * `year` — год сдачи;
    * `primary` — образование выше среднего (список). Состоит из полей:
        * `name` — название учебного заведения;
        * `name_id` — идентификатор учебного заведения, можно получить из
          [подсказок по названиям вузов](suggests.md#universities);
        * `organization` — факультет;
        * `organization_id` — идентификатор факультета, можно получить из
          [справочника факультетов](faculties.md);
        * `result` — специальность / специализация;
        * `result_id` — идентификатор специальности / специализации, можно
          получить из
          [подсказок по специализациям](suggests.md#specializations);
        * `year` — год окончания;
    * `level` — уровень образования. Элемент справочника
      [education_level](dictionaries.md)
* `language` — владение языками (список). Состоит из элемента справочника
  [languages](languages.md) с добавлением [language_level](dictionaries.md)
  в поле `level`;
* `experience` — опыт работы (список). Состоит из полей:
    * `company` — организация;
    * `company_id` — идентификатор организации, можно получить из
      [подсказок по организациям](suggets.md#companies);
    * `area` — регион расположения орагнизации. Элемента справочника
      [areas](areas.md);
    * `company_url` — сайт компании;
    * `industries` — отрасли компании. Элемент справочника
      [/industries](industries.md)
    * `position` — должность;
    * `start` — начало работы (ГГГГ-ММ-ДД);
    * `end` — окончание работы (ГГГГ-ММ-ДД);
    * `description` — обязанности, функции, достижения;
* `total_experience` — общий опыт работы. `null` - если опыта работы нет. Если
  опыт есть - объект из полей:
    * `months` — целое число, количество месяцев общего опыта работы с округлением до месяца;
* `skills` — дополнительная информация, описание навыков в свободной форме;
* `skill_set` — ключевые навыки (список уникальных строк).
* `citizenship` — гражданство (список). Элемента справочника [areas](areas.md);
* `work_ticket` — разрешение на работу (список). Элемента справочника
  [areas](areas.md);
* `travel_time` — желательное время в пути до работы. Элемент справочника
  [travel_time](dictionaries.md);
* `recommendation` — рекомендации (список). Состоит из полей:
    * `name` — имя;
    * `position` — должность;
    * `organization` — организация;
    * `contact` — телефон;
* `resume_locale` — локаль резюме. Элемент справочника
  [локали резюме](locales.md).

Параметры, берущиеся из [подсказок](suggests.md) (`name_id`, `organization_id`,
`result_id`, `faculty_id`, `company_id`), являются опциональными. При этом, если
данные параметры указаны, то в момент сохранения происходят проверки на их
корректность. В случае ошибок заполнения, таких как передача несуществующих
идентификаторов или не связанных друг с другом идентификаторов университета и
факультета, будет возвращён статус `HTTP 400 Bad Request` с указанием
родительского поля, в котором произошла ошибка (`education`, `experience`).
Дополнительно, при указании в опыте работы `company_id` название компании будет
подменено на название компании из подсказок.


<a name="publish"></a>
## Публикация резюме

`POST /resumes/{resume_id}/publish`

При первой публикации резюме оно становится доступно для использования.

Повторная публикация означает обновление даты резюме. Ключ `next_publish_at`
у резюме указывает время, когда можно обновить резюме.

В случае успешной публикации вернётся код ответа `204 No Content`.

Если обновление ещё недоступно — `429 Too Many Requests`.

Если публикация невозможна, так как не заполнены обязательные
поля — `400 Bad Request`.

Если операция публикации резюме недоступна из-за отсутствия прав (например,
для работодателя) — `403 Forbidden`.


<a name="clone"></a>
## Клонирование резюме

`POST /resumes?source_resume_id={resume_id}`

В случае успешного клонирования вернётся код ответа `201 Created`, а в заголовке
`Location` ответа будет содержаться ссылка на новое резюме.

Для клонирования можно использовать только собственные резюме, иначе код ответа
будет `404 Not Found`.


<a name="conditions"></a>
## Условия заполнения полей резюме

`GET /resumes/{resume_id}/conditions` — возвращает список требований для полей
резюме.

Условия к резюме доступны только его автору, в противном случае вернётся код
ответа `403 Forbidden`.

Если резюме недоступно — код ответа `404 Not Found`.

Если условия получены успешно — код ответа `200 OK`.

Пример:

```javascript
{
  "last_name": {
    "required": true,
    "max_length": 100,
    "min_length": 1
  },
  "citizenship": {
    "required": true,
    "min_count": 1,
    "max_count": 3
  },
  "resume_locale": {
    "required": true
  },
  "education": {
    "required": true,
    "fields": {
      "elementary": {
        "required": false,
        "min_count": 0,
        "max_count": 64,
        "fields": {
          "name": {
            "required": true,
            "min_length": 1,
            "max_length": 512
          },
          "year": {
            "required": true,
            "min_value": 1950,
            "max_value": 2023
          }
        }
      },
      "primary": {
        "required": true,
        "min_count": 1,
        "max_count": 64,
        "fields": {
          "result": {
            "required": false,
            "min_length": 1,
            "max_length": 128
          },
          "organization": {
            "required": true,
            "min_length": 1,
            "max_length": 128
          },
          "name": {
            "required": true,
            "min_length": 1,
            "max_length": 512
          },
          "year": {
            "required": true,
            "min_value": 1950,
            "max_value": 2023
          }
        },
      },
      "level": {
        "required": true
      },
      //...
    }
  },
  "salary": {
    "required": false,
    "fields": {
      "currency": {
        "required": true,
        "min_length": 3,
        "max_length": 3
      },
      "amount": {
        "required": true,
        "min_value": 0,
        "max_value": null
      }
    }
  },
  "birth_date": {
    "required": false,
    "min_date": "1900-01-01",
    "max_date": "1999-10-21"
  },
  //...
}
```

Каждое конечное поле описано объектом правил. Если поле в резюме состоит из
объекта с несколькими полями, эти поля описаны в `fields`.

Для всех полей и их частей указано, являются ли они необходимыми (`required`).
Может быть так, что поле, представленное объектом с полями, само по себе не
является необходимым, но если заполнено хотя бы одно поле объекта, необходимо
заполнить и другие его поля. Пример — желаемая зарплата (`salary`) может быть не
указана, либо указана, но обязательно с валютой.

Правила
-------

Имя | Тип | Описание
--- | --- | ---
required | логический | Поле резюме или поле объекта является необходимым.
min_length | целое | Минимальная длина для текстовых полей.
max_length | целое | Максимальная длина для текстовых полей.
min_count | целое | Минимальное количество объектов, для полей, где необходимо передавать список.
max_count | целое или `null` | Максимально количество объектов, для полей, где необходимо передавать список. `null` – если количество не ограничено.
min_value | целое | Нижняя граница диапазона числовых значений, включительно.
max_value | целое или `null` | Верхняя граница диапазона числовых значений, включительно. `null` – если верхняя граница не определена.
min_date | строка с датой | Нижняя граница диапазона значений дат, включительно.
max_date | строка с датой | Верхняя граница диапазона значений дат, включительно.


<a name="init-conditions"></a>
## Условия заполнения полей нового резюме

`GET /resume_conditions` — возвращает список требований для полей нового резюме.
Если авторизованный пользователь не соискатель — вернётся код ответа
`403 Forbidden`, иначе `200 OK`.


<a name='conditions-contacts' />
## Условия заполнения контактов в резюме
При заполнении контактов в резюме необходимо учитывать следующие условия:

 * В резюме обязательно должен быть указан email (и он может быть только один).

 * В резюме должен быть указан хотя бы один телефон, причём можно указывать
   только один телефон каждого типа.

 * Комментарий можно указывать только для телефонов, для email комментарий
   не сохранится.

 * В контакте типа 'email' value — это email, а для телефонов — объект.


Формат поля value для телефона:

```json
{
    "formatted": "+7(123)456-78-90",
    "country": "7",
    "city": "123",
    "number": "4567890"
}
```
здесь:
 * formatted - номер телефона целиком
 * country — код города;
 * city — код города;
 * number — номер телефона.
 
Обязательно указать либо телефон полностью в поле `formatted`, либо все три части телефона по отдельности в
полях `country`, `city` и `number`. Если указано и то, и то, используются данные из разделенного телефона.
В поле `formatted` допустимо указание дополнительных символов: пробелов, скобок, дефисов.
В раздельных полях допустимы только цифры.


<a name='conditions-other' />
## Дополнительные правила заполнения полей резюме

Существует ещё несколько правил заполнения резюме, которые не укладываются в
представленный выше формат:

 * Нельзя создавать несколько резюме с одинаковым title.

 * Специализации должны быть из одной профессиональной области.

 * Город проживания должен быть из справочника `/areas` и при этом у выбранного
   города не должно быть потомков, т.е. нельзя указать город проживания
   «Россия».

 * Ближайшая станция метро должна находиться в городе проживания.

 * Для специализаций из профессиональной области *Начало карьеры, студенты*
   (id=15) можно не указывать опыт работы и навыки. Для остальных профобластей
   данные поля должны содержать хотя бы по одной записи.

 * Часть полей резюме являются read-only, их нельзя изменить при помощи
   POST/PUT на /resumes.


<a name="resume-nano"></a>
## Короткое представление резюме

Самое короткое представление резюме:

```json
{
    "id": "502ff8b100018bddf30039ed1f63735f4dda66",
    "title": "консультант",
    "url": "https://api.hh.ru/resumes/502ff8b100018bddf30039ed1f63735f4dda66"
}
```

где:

 Имя  | Тип    | Описание
 ---- | ------ | ---
 id   | строка | Идентификатор резюме
 title | строка | Желаемая должность
 url  | строка | Ссылка на получение полной версии резюме


<a name="resume-short"></a>
## Сокращенное представление резюме

Отличается от полного представления отсутствием некоторых полей.

```json
{
    "id": "0123456789abcdef",
    "title": "Начинающий специалист",
    "url": "https://api.hh.ru/resumes/0123456789abcdef",
    "first_name": "Иван",
    "last_name": "Иванов",
    "middle_name": "Иванович",
    "can_view_full_info": true,
    "age": 19,
    "alternate_url": "http://hh.ru/resume/0123456789abcdef",
    "created_at": "2015-02-06T12:00:00+0300",
    "updated_at": "2015-04-20T16:24:15+0300",
    "area": {
        "id": "1",
        "name": "Москва",
        "url": "https://api.hh.ru/areas/1"
    },
    "certificate": [
        {
            "achieved_at": "2015-01-01",
            "owner": null,
            "title": "тест",
            "type": "custom",
            "url": "http://example.com/"
        }
    ],
    "education": {
        "primary": [
            {
                "name": "Российский государственный социальный университет, Москва",
                "name_id": "39420",
                "organization": "Факультет информационных технологий",
                "organization_id": null,
                "result": "Информатика",
                "result_id": null,
                "year": 2012
            }
        ]
    },
    "total_experience": {
        "months": 118
    },
    "experience": [
        {
            "position": "пастух",
            "start": "2010-01-01",
            "end": null,
            "company": "Рога и копыта",
            "industries": [
                {
                    "id": "51.643",
                    "name": "Благоустройство и уборка территорий и зданий"
                },
                {
                    "id": "29.503",
                    "name": "Земледелие, растениеводство, животноводство"
                }
            ],
            "company_url": "http://example.com/",
            "area": {
                "id": "1",
                "name": "Москва",
                "url": "https://api.hh.ru/areas/1"
            },
            "company_id": null,
            "employer": null
        },
        {
            "start": "2005-01-01",
            "end": "2009-03-01",
            "company": "HeadHunter",
            "area": {
                "id": "1",
                "name": "Москва",
                "url": "https://api.hh.ru/areas/1"
            },
            "industries": [
                {
                    "id": "7.513",
                    "name": "Интернет-компания (поисковики, платежные системы, соц.сети, информационно-познавательные и развлекательные ресурсы, продвижение сайтов и прочее)"
                }
            ],
            "company_url": "http://hh.ru",
            "company_id": "1455",
            "employer": {
                "alternate_url": "http://hh.ru/employer/1455",
                "id": "1455",
                "logo_urls": {
                    "90": "http://hh.ru/employer/logo/1455"
                },
                "name": "HeadHunter",
                "url": "https://api.hh.ru/employers/1455"
            }
        }
    ],
    "gender": {
        "id": "male",
        "name": "Мужской"
    },
    "salary": {
        "amount": 1000000,
        "currency": "RUR"
    },
    "photo": {
        "medium": "http://hh.ru/...",
        "small": "http://hh.ru/...",
        "id": "1337"
    },
    "owner": {
        "comments": {
            "url": "https://api.hh.ru/applicant_comments/123456",
            "counters": {
                "total": 7
            }
        }
    }
}
```


<a name="status"></a>
## Статус резюме

Ключ `status` определяет текущее состояние резюме и содержит элемент
справочника [resume_status](dictionaries.md). После создания нового резюме оно
находится в статусе 'not_published'. В этом статусе резюме никому не видно,
пользователь начинает его наполнять и сохранять. После того как
`_progress.mandatory` станет пустым списком, резюме можно
[опубликовать](#publish). Публикация резюме переводит его в статус `published`.
В этом статусе резюме доступно для поиска, если это позволяет
[видимость резюме](#access_type).

После перехода в статус `published`, резюме попадает в поле зрения модераторов и
может быть заблокировано (статус `blocked`), если поля резюме некорректно или
малоинформативно заполнены. Причины блокировки резюме можно найти в ключе
`moderation_note`. Заблокированное резюме пропадает из поиска и не может быть
использовано для отклика на вакансию.

После исправления, резюме можно отправить на повторное рассмотрение модератору.
В этом случае резюме переходит в статус `on_moderation`, откуда может снова
перейти в `blocked` или `published`, в зависимости от решения модератора.

После публикации резюме (статус установлен в `published`) его нельзя перевести
обратно в `not_published`, но можно скрыть, настроив
[видимость резюме](#access_type).

В статусе `published` резюме можно использовать для
[отклика на вакансию](negotiations.md), а так же оно появится в
[списке подходящих для отклика](suitable_resumes.md), если им еще не откликались
на эту вакансию.


<a name="access_type"></a>
## Видимость резюме

После публикации резюме доступно для поиска работодателями. Чтобы это изменить
(например, работа найдена и нужно скрыть резюме из поиска), следует поменять
видимость резюме. За это отвечает ключ `access.type` у резюме. Тип видимости —
элемент справочника [resume_access_type](dictionaries.md).

 Код | Описание
 --- | --------
 no_one | Резюме такого типа никому не видно. Но им можно откликнуться на вакансию, при этом резюме сменит тип на `whitelist`.
 whitelist | Резюме не видно никому, кроме указанных компаний. Если откликнуться на вакансию компании, который не входит в список, компания автоматически в него попадёт.
 blacklist | Резюме доступно для поиска и просмотра всем компаниям, за исключением указанных. Если откликнуться на вакансию компании из черного списка, то компания вычеркивается из него автоматически.
 clients | Резюме доступно всем зарегистрированным компаниям на hh.ru.
 everyone | Резюме доступно всем без исключения (всему интернету).
 direct | Резюме доступно только по прямой ссылке (ссылка указана в ключе `alternate_url`).


<a name="views"></a>
## История просмотра резюме

`GET /resumes/{resume_id}/views` вернёт историю просмотров резюме. На основном
сайте это доступно при клике на кол-во просмотров резюме на странице со списком
резюме текущего пользователя
([http://hh.ru/applicant/resumes](http://hh.ru/applicant/resumes)).

Без авторизации или же при обращении к чужому резюме вернёт `403 Forbidden`.

Количество просмотров (в том числе, новых) выдаётся при запросе конкретного
резюме и списка резюме. Счетчик новых просмотров обнуляется при запросе данного
ресурса.

```json
{
    "per_page": 20,
    "items": [
        {
            "created_at": "2014-02-05T19:05:58+0400",
            "viewed": true,
            "employer": {
                "logo_urls": {
                    "90": "http://hh.ru/employer/logo/1455",
                },
                "vacancies_url": "https://api.hh.ru/vacancies?employer_id=1455",
                "name": "HeadHunter",
                "url": "https://api.hh.ru/employers/1455",
                "alternate_url": "http://hh.ru/employer/1455",
                "id": "1455"
            }
        }
    ],
    "page": 0,
    "pages": 1,
    "found": 1
}
```

где:

 Имя | Тип | Описание
 --- | --- | --------
 found | число | Количество записей о просмотре резюме ( ≥ 0 )
 pages | число | Количество страниц ( ≥ 0 )
 per_page | число | Количество элементов на страницу ( > 0 )
 page | число | Номер текущей страницы ( ≥ 0 )

В элементе `items` содержатся данные о откликах:

 Имя | Тип | Описание
 --- | --- | ---
 created_at | строка | Дата создания записи, дата просмотра резюме работодателем
 viewed | логический | отметка о просмотре записи (при запросе данного ресурса все запросы помечаются просмотренными)
 employer | объект | информация о компании (см. ниже)

Объект `employer` возвращает краткие данные о компании, является
«подмножеством» объекта [компания/работодатель](employers.md).

В случаях, когда просмотр совершен анонимным работодателем, либо резюме было
просмотрено из откликов к анонимной вакансии `employer` может содержать лишь
один ключ `name`.

`logo_urls` — изображения логотипа компании разных размеров. Клиент должен
предусмотреть вероятность отсутствия ресурса по указанной ссылке
(`404 Not Found`).


<a name="similar"></a>
## Поиск по вакансиям, похожим на резюме

Данные доступны только автору резюме.


### Запрос

`GET /resumes/{resume_id}/similar_vacancies`

где `resume_id` - идентификатор резюме.

Принимает те же параметры, что и
[поиск по вакансиям](vacancies.md#search-params),
и возвращает результаты в том же виде, что и
[поиск по вакансиям](vacancies.md #search-results)

Дополнительно, если резюме с идентификатором `resume_id` не существует или
недоступно, то в ответ вернется `404 Not Found`.
