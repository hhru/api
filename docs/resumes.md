# Резюме

* [Cписок резюме авторизованного пользователя](#mine)
* [Просмотр резюме](#item)
* [Поиск резюме](#search)
* [Создание и редактирование резюме](#create_edit)
* [Публикация и продление резюме](#publish)
* [Клонирование резюме](#clone)
* [Условия заполнения полей резюме](#conditions)
* [Условия заполнения полей нового резюме](#init-conditions)
* [Условия заполнения контактов в резюме](#conditions-contacts)
* [Дополнительные правила заполнения полей резюме](#conditions-other)
* [Короткое представление резюме](#resume-nano)
* [Статусы резюме](#status)
* [Видимость резюме](#access_type)
* [История просмотра резюме](#views)

<a name="mine" />
## Cписок резюме авторизованного пользователя

`GET /resumes/mine` возвращает список резюме авторизованного пользователя. Без авторизации вернёт `403 Forbidden`.

```json
{
    "items": [
        {
            "access": {
                "type": {
                    "id": "clients",
                    "name": "видно всем компаниям, зарегистрированным на HeadHunter"
                }
            },
            "id": "12345678901234567890123456789012abcdef",
            "title": "Программист Python",
            "url": "https://api.hh.ru/resumes/12345678901234567890123456789012abcdef",
            "alternate_url": "http://hh.ru/resume/12345678901234567890123456789012abcdef",
            "created_at": "2013-05-31T14:27:04+0400",
            "updated_at": "2013-05-31T15:08:52+0400",
            "total_views": 0,
            "new_views": 0,
            "status": {
                "id": "published",
                "name": "опубликовано"
            }
        }
    ],
    "page": 0,
    "per_page": 1,
    "pages": 1,
    "found": 1
}
```

`total_views` показывает число просмотров резюме, `new_views` — число новых просмотров. Данный счетчик сбрасывается при
получении детальной [истории просмотров](#views).


<a name="search" />
## Поиск резюме

`GET /resumes` вернёт результаты поиска резюме.

------

**Поиск резюме доступен только при авторизации работодателем и при условии, что приложение входит в список разрешенных.**
**Для того, чтобы ваше приложение было включено в этот список, пришлите заявку в свободной форме на адрес api@hh.ru. В письме** 
**опишите ваше приложение, цели и функциональность, при возможности приложите к письму макеты/скриншоты/прототипы.** 
**Включение в список является бесплатной услугой.**
  
**При запросе с авторизацией соискателем/анонимом вернется `403`.**

------

```json
{
    "found": 2099341,
    "per_page": 20,
    "page": 0,
    "pages": 250,
    "items": [
        {
            "title": "Дизайнер резюме",
            "url": "https://api.hh.ru/resumes/14831542000d1f366b4c5a6a751b329b70039e",
            "created_at": "2013-11-03T00:43:20+0400",
            "updated_at": "2013-11-22T12:25:18+0400",
            "alternate_url": "http://hh.ru/resume/14831542000d1f366b4c5a6a751b329b70039e",
            "id": "14831542000d1f366b4c5a6a751b329b70039e",
            "salary": {
                "amount": 1,
                "currency": "EUR"
            },
            "first_name": "Иван",
            "last_name": "Васин",
            "middle_name": "Петрович",
            "gender": {
                "id": "male",
                "name": "Мужской"
            },
            "area": {
                "id": "1",
                "name": "Город",
                "url": "https://api.hh.ru/areas/1"
            },
            "age": 33,
            "experience": [
                {
                    "industries": [ ],
                    "start": "2013-07-29",
                    "position": "Position",
                    "end": "2014-12-11",
                    "area": null,
                    "company_url": "",
                    "industry": null,
                    "company": "Organization",
                    "company_id": null,
                    "employer": null
                }
            ],
            "education": {
                "primary": [
                    {
                        "organization_id": null,
                        "name_id": null,
                        "name": "Education Name",
                        "year": 2012,
                        "organization": "Faculty",
                        "result_id": null,
                        "result": "Diploma"
                    }
                ]  
            }
        }
    ]
}
```

Настройки вывода полей в поиске резюме на сайте не влияют на выдачу в API. Резюме выводится не целиком.
В объекте опыта отсутствует описание (поле `description`), а также должность (поле `position`) доступно только в 
последнем опыте. Образование выводится только основное.  
Контактная информация (ФИО) будет присутствовать только при оплаченном доступе.

### Принимаемые параметры

Некоторые параметры принимают множественные значения: `key=value&key=value`.

* `text` — поисковая фраза. Найдет резюме в которых встречаются все слова заданной фразы.
Возможно указание нескольких значений. Каждый дополнительный `text` уточняет поиск.
В качестве поисковой фразы можно использовать [язык поисковых запросов](http://hh.ru/article.xml?articleId=1175).
Для тонкой настройки по фразе можно использовать параметры `text.logic`, `text.field`, `text.period`.
При использовании дополнительных `text.*` полей, необходимо указывать весь набор (триаду) параметров.
Если параметры будут указаны неверно или будет неверный состав этих параметров, то в ответ вернется `400 Bad request`.

* `text.logic` – описывает, как производится поиск.
Справочник с возможными значениями: `resume_search_logic` в [/dictionaries](dictionaries.md).

* `text.field` – описывает, где должны встречаться слова из поисковой фразы `text`.
В параметре text.field можно укзать несколько значений через запятую, например – `?text.field=education,keywords`.
Справочник с возможными значениями: `resume_search_fields` в [/dictionaries](dictionaries.md).

* `text.period` – период для поиска в опыте работы.
Параметр имеет смысл только для `text.field` равного одному из:
`experience`, `experience_company`, `experience_position`, `experience_description`, но указывать его необходимо всегда 
при указании других `text.*`. В этом случае он может быть пустым.

Например:

* `GET /resumes?text=программист` – найдет все резюме в любом месте которого встречается заданное слово 'программист'.

* `GET /resumes?text=программист&text=java` – найдет резюме, в любом месте которого, встречаются слова 'программист' и 'java'.

* `GET /resumes?text=программист%20java&text.logic=any&text.field=everywhere&text.period=all_time` – найдет резюме, в 
любом месте которого, встречается любое из слов заданной фразы в параметре `text` ('программист' или 'java'). При 
использовании дополнительных полей, они должны быть указаны все.

* `GET /resumes?text=Headhunter&text.logic=all&text.field=experience&text.period=last_three_years` – найдет все резюме, 
в опыте работы которых, за последние 3 года, встречается 'Headhunter'.

* `GET /resumes?text=менеджер%20проекта&text.logic=all&text.field=experience%2Cskills&text.period=last_year&text=ответственный&text.logic=all&text.field=everywhere&text.period=all_time` 
найдет все резюме, в опыте работы за последний год и ключевых навыках которых, встречаются слова 'менеджер' и 
'проекта', а также слово 'ответственный' в любом месте резюме. Отметим, что дополнительные параметры 
`text.logic=all&text.field=experience%2Cskills&text.period=last_year` указаны для `text=менеджер%20проекта`, 
а `text.logic=all&text.field=everywhere&text.period=all_time` для параметра `text=ответственный`.

* `age_from`, `age_to` — возраст соискателя в годах, диапазон от и до.

* `area` — регион.
Справочник с возможными значениями: [/areas](areas.md).
Можно указать несколько значений.

* `relocation` — готовность к переезду.
Справочник с возможными значениями: `resume_search_relocation` в [/dictionaries](dictionaries.md).

* `period` — в днях, ищет резюме опубликованные за указанный период.
Если не указан, поиск ведется без ограничений по дате публикации.

* `date_from` – дата, от которой нужно начать поиск. Значение указывается в формате `dd.mm.yyyy`.
Нельзя передавать вместе с параметром `period`.

* `date_to` – дата, до которой нужно искать. Значение указывается в формате `dd.mm.yyyy`.
Можно передавать только в паре с параметром `date_from`.
Нельзя передавать вместе с параметром `period`.

* `education_level` —  уровень образования.
Справочник с возможными значениями: `education_level` в [/dictionaries](dictionaries.md).
Если не указан, поиск ведется без ограничений на уровень образования.

* `employment` — тип занятости.
Справочник с возможными значениями: `employment` в [/dictionaries](dictionaries.md).
Можно указать несколько значений.

* `experience` — опыт работы.
Справочник с возможными значениями: `experience` в [/dictionaries](dictionaries.md).

* `gender` — пол.
Справочник с возможными значениями: `gender` в [/dictionaries](dictionaries.md).

* `label` — дополнительный фильтр.
Справочник с возможными значениями: `resume_search_label` в [/dictionaries](dictionaries.md).
Можно указать несколько значений.

* `language` — знание языка.
Задается в формате language.level, где:
     * `language` — значение из справочника [/languages](languages.md),
     * `level` — значение из справочника `language_level` [/dictionaries](dictionaries.md).
Можно указать несколько значений.

* `metro` — линия, либо станция метро.
Справочник с возможными значениями: [/metro](metro.md).

* `currency` — код валюты.
Справочник с возможными значениями: `currency` (ключ code) в [/dictionaries](dictionaries.md).

* `salary_from`, `salary_to` — диапазон желаемой заработной платы, от и до.

* `schedule` — график работы.
Справочник с возможными значениями: `schedule` в [/dictionaries](dictionaries.md).
Можно указать несколько значений.

* `specialization` — профобласть или специализация.
Справочник с возможными значениями: [/specializations](specializations.md).
Можно указать несколько значений.

* `order_by` — сортировка списка резюме.
Справочник с возможными значениями: `resume_search_order` в [/dictionaries](dictionaries.md).

* `per_page` — количество результатов на страницу (не может превышать 50).

* `page` — номер страницы.

* `citizenship` — страна желаемого гражданства.
Возможные значения можно посмотреть в справочнике стран.
Возможно указание нескольких значений.

* `work_ticket` — страна, в которой есть разрешение на работу.
Возможные значения можно посмотреть в справочнике стран.
Возможно указание нескольких значений.

* `educational_institution` – учебные заведения соискателя.
В качестве параметров используются подсказки по названиям университетов [/suggests/educational_institutions](suggests.md).
Возможно указание нескольких значений.

Если параметры переданы с ошибкой, то в ответ вернется `400 Bad request` с описанием ошибки в теле.
Неизвестные параметры и параметры с ошибкой в названии игнорируются.


<a name="item" />
## Просмотр резюме

`GET /resumes/{resume_id}` возвращает указанное резюме.
Если в резюме указан тип видимости «видно всему интернету» или
«по прямой ссылки» (`everyone` и `direct` соответственно), возможен запрос резюме без авторизации.
Для авторизованного автора возвращается более детальная информация, включая тип видимости и комментарии модераторов.
Если резюме не существует или недоступно пользователю, то в ответ придёт `404 Not Found`.
Если просмотр контактов не доступен при указанном типе авторизации, в соответствующих полях будет `null`.

```json
{
    "id": "12345678901234567890123456789012abcdef",
    "last_name": "Фамилия",
    "first_name": "Имя",
    "middle_name": "Отчество",
    "birth_date": "1980-05-08",
    "gender": {
        "id": "male",
        "name": "Мужской"
    },
    "photo": {
        "small": "http://hh.ru/...",
        "medium": "http://hh.ru/...",
        "id": "1337"
    },
    "portfolio": [
        {
            "small": "http://hh.ru/...",
            "medium": "http://hh.ru/...",
            "id": "1337",
            "description": "..."
        },
    ],
    "area": {
        "url": "https://api.hh.ru/areas/1",
        "id": "1",
        "name": "Москва"
    },
    "metro": {
        "lat": 55.658147,
        "lng": 37.540957,
        "order": 19,
        "id": "6.41",
        "name": "Калужская"
    },
    "relocation": {
        "type": {
            "id": "relocation_possible",
            "name": "готов к переезду"
        },
        "area": [
            {
                "url": "https://api.hh.ru/areas/2",
                "id": "2",
                "name": "Санкт-Петербург"
            },
            {
                "url": "https://api.hh.ru/areas/76",
                "id": "76",
                "name": "Ростов-на-Дону"
            }
        ]
    },
    "business_trip_readiness": {
        "id": "ready",
        "name": "Готов к командировкам"
    },
    "contact": [
        {
            "comment": null,
            "type": {
                "id": "cell",
                "name": "Мобильный телефон"
            },
            "preferred": true,
            "value": {
                "country": "7",
                "city": "123",
                "number": "4567890"
            }
        },
        {
            "type": {
                "id": "email",
                "name": "Эл. почта"
            },
            "preferred": false,
            "value": "applicant@example.com"
        }
    ],
    "site": [
        {
            "url": "echo123",
            "type": {
                "id": "skype",
                "name": "Skype"
            }
        },
        {
            "url": "123456",
            "type": {
                "id": "icq",
                "name": "ICQ"
            }
        }
    ],
    "title": "Программист Python",
    "specialization": [
        {
            "id": "1.221",
            "name": "Программирование, Разработка",
            "profarea_id": "1",
            "profarea_name": "Информационные технологии, интернет, телеком"
        },
        {
            "id": "1.89",
            "name": "Интернет",
            "profarea_id": "1",
            "profarea_name": "Информационные технологии, интернет, телеком"
        },
        {
            "id": "1.9",
            "name": "Web инженер",
            "profarea_id": "1",
            "profarea_name": "Информационные технологии, интернет, телеком"
        }
    ],
    "salary": {
        "amount": 100500,
        "currency": "RUR"
    },
    "employment": {
        "id": "full",
        "name": "Полная занятость"
    },
    "schedule": {
        "id": "fullDay",
        "name": "Полный день"
    },
    "education": {
        "elementary": [],
        "additional": [
            {
                "name": "Курс повышения квалификации",
                "organization": "Проводившая организация",
                "result": "Специализация",
                "year": 2006
            }
        ],
        "attestation": [
            {
                "name": "Тест на IQ",
                "organization": "IQ центр",
                "result": "Интеллект квалификейшн",
                "year": 2005
            }
        ],
        "primary": [
            {
                "name": "Московская государственная академия ветеринарной медицины и биотехнологии имени К.И. Скрябина, Москва",
                "name_id": "39464",
                "organization": "Факультет зоотехнологий и агробизнеса",
                "organization_id": "25181",
                "result": "Социальная психология",
                "result_id": null,
                "year": 2000
            }
        ],
        "level": {
            "id": "higher",
            "name": "Высшее"
        }
    },
    "language": [
        {
            "id": "rus",
            "name": "Русский",
            "level": {
                "id": "native",
                "name": "родной"
            }
        },
        {
            "id": "eng",
            "name": "Английский",
            "level": {
                "id": "can_read",
                "name": "читаю профессиональную литературу"
            }
        }
    ],
    "experience": [
        {
            "company": "Название работадателя",
            "company_id": null,
            "area": {
                "url": "https://api.hh.ru/areas/113",
                "id": "113",
                "name": "Россия"
            },
            "company_url": "http://www.rbc.ru",
            "industries": [
                {
                "id": "512",
                "name": "Разработка программного обеспечения"
                },
                {
                "id": "371",
                "name": "Мобильная связь"
                }
            ],
            "position": "Должность",
            "start": "2005-04-01",
            "end": "2013-01-01",
            "description": "Описание деятельности в компании"
        }
    ],
    "skills": "Дополнительная информация: ключевые навыки",
    "skill_set": [
        "HTML", "CSS"
    ],
    "citizenship": [
        {
            "url": "https://api.hh.ru/areas/113",
            "id": "113",
            "name": "Россия"
        }
    ],
    "work_ticket": [
        {
            "url": "https://api.hh.ru/areas/113",
            "id": "113",
            "name": "Россия"
        }
    ],
    "travel_time": {
        "id": "any",
        "name": "Не имеет значения"
    },
    "recommendation": [
        {
            "name": "Петров Петр",
            "position": "старший научный сотрудник",
            "organization": "Роскосмос",
            "contact": "+7 495 123 45 67"
        }
    ],
    "alternate_url": "http://hh.ru/resume/12345678901234567890123456789012abcdef",
    "resume_locale": {
        "id": "RU",
        "name": "Русский"
    },
    "created_at": "2013-05-31T14:27:04+0400",
    "updated_at": "2013-10-17T15:22:55+0400",
    "blocked": false,
    "total_views": 0,
    "new_views": 0,
    "finished": false,
    "status": {
        "id": "not_published",
        "name": "не опубликовано"
    },
    "_progress": {
        "percentage": 42,
        "mandatory": [
            "citizenship",
            "language",
            "area",
            "skills",
            "contact",
            "education",
            "specialization"
        ],
        "recommended": [
            "salary",
            "middle_name",
            "work_ticket",
            "site",
            "recommendation",
            "birth_date"
        ]
    },    
}
```

Владельцу резюме выдается информация о заполненности резюме в поле ```_progress```:

 Поле | Описание
 --- | ---
 percentage | Процент заполненности резюме.
 mandatory | Обязательные, но еще не заполненные поля.
 recommended | Рекомендованные к заполнению, но ещё не заполненные поля.

 
<a name="create_edit" />
## Создание и редактирование резюме

`POST /resumes` — добавление резюме.

`PUT /resumes/{resume_id}` — редактирование существующего.
В качестве тела запроса используется json в том же формате, что отдается при GET запросе. 
При этом для полей с данными справочников из передаваемой json-структуры используются только id передаваемых данных. 
Например, в резюме в поле владения языками, указан русский как родной:
```json
    "language": [
        {
            "id": "34",
            "name": "Русский",
            "level": {
                "id": "native",
                "name": "родной"
            }
        }
     ]
```

Для того, чтобы добавить английский с уровнем знания «читаю профессиональную литературу», необходимо отправить
следующий json:
```json
    "language": [
        {
            "id": "rus",
            "name": "Русский",
            "level": {
                "id": "native",
                "name": "родной"
            }
        },
        {
            "id": "eng",
            "level": {
                "id": "can_read"
            }
        }
    ]
```
Первый элемент списка — это русский, который у нас уже был в языках, а второй — это новый элемент, английский, 
который мы хотим добавить. Поля `name`, в данном случае не мешают, но и не несут полезную информацию. 
При отправке данные заменяют уже существующие данные указанного параметра. Каждый параметр можно отправлять отдельно от 
остальных.

Параметры:
* `last_name` — фамилия;
* `first_name` — имя;
* `middle_name` — отчество;
* `birth_date` — день рождения (ГГГГ-ММ-ДД);
* `gender` — пол. Элемент справочника [gender](dictionaries.md);
* `photo` — фотография пользователя. см. [артефакты](artifacts.md);
* `portfolio` — портфолио пользователя. см. [артефакты](artifacts.md);
* `area` — город проживания. Элемент справочника [areas](areas.md);
* `metro` — ближайшая станция метро. Элемент справочника [metro](metro.md). Имеет смысл указывать только для `area` с метро;
* `relocation` — возможен ли переезд в другой город. Состоит из полей:
    * `type` — элемент справочника [relocation_type](dictionaries.md);
    * `areas` — город, в который возможен переезд (список). Имеет смысл, только с соответствующим полем `type`. Элемент справочника [areas](areas.md);
* `business_trip_readiness` — готовность к командировкам. Элемент справочника [resume_trip_readiness](dictionaries.md#resume_trip_readiness)
* `contact` — контактная информация (список). Состоит из полей:
    * `type` — элемент справочника [prefered_contact_type](dictionaries.md)
    * `value` — значение контакта. Для телефона состоит из трех полей, для электронного адреса — строка.
    * `preferred` — предпочитаемый вид связи (true или false);
    * `comment` — комментарий к контакту;
* `site` — присутствие на других сайтах. Состоит из полей:
    * `type` — тип сайта. Элемент справочника [resume_contacts_site_type](dictionaries.md);
    * `url` — ссылка на профиль, либо идентификатор на строннем сайте/сервисе;
* `title` — желаемая должность;
* `specialization` — специализация соискателя (список). Элемент справочника [specializations](specializations.md);
* `salary` — желаемая зарпалат. Состоит из полей:
    * `amount` — сумма;
    * `currency` — идентификатор [валюты](dictionaries.md);
* `employment` — занятость. Элемет справочника [employment](dictionaries.md)
* `schedule` — график работы. Элемент справочника [schedule](dictionaries.md)
* `education` — образование. Состоит из полей:
    * `elementary` — среднее образование (список). Состоит из полей:
        * `year` — год окончания;
        * `name` — название учебного заведения;
    * `additional` — курсы повышения квалификации (список). Состоит из полей:
        * `organization` — организация, проводившая курс;
        * `name` — название курса;
        * `result` — специальность / специализация;
        * `year` — год окончания;
    * `attestation` — тесты, экзамены (список):
        * `organization` — организация, проводившая тест или экзамен;
        * `name` — название тест или экзамена;
        * `result` — специальность / специализация;
        * `year` — год сдачи;
    * `primary` — образование выше среднего (список). Состоит из полей:
        * `name` — название учебного заведения;
        * `name_id` — идентификатор учебного заведения, можно получить из [подсказок по названиям вузов](suggests.md#universities);
        * `organization` — факультет;
        * `organization_id` — идентификатор факультета, можно получить из [справочника факультетов](faculties.md);
        * `result` — специальность / специализация;
        * `result_id` — идентификатор специальности / специализации, можно получить из [подсказок по специализациям](suggests.md#specializations);
        * `year` — год окончания;
    * `level` — уровень образования. Элемент справочника [education_level](dictionaries.md)
* `language` — владение языками (список). Состоит из элемента справочника [languages](languages.md) с добавлением [language_level](dictionaries.md) в поле `level`;
* `experience` — опыт работы (список). Состоит из полей:
    * `company` — организация;
    * `company_id` — идентификатор организации, можно получить из [подсказок по организациям](suggets.md#companies);
    * `area` — регион расположения орагнизации. Элемента справочника [areas](areas.md);
    * `company_url` — сайт компании;
    * `industries` — отрасли компании. Элемент справочника [/industries](industries.md)
    * `position` — должность;
    * `start` — начало работы (ГГГГ-ММ-ДД);
    * `end` — окончание работы (ГГГГ-ММ-ДД);
    * `description` — обязанности, функции, достижения;
* `skills` — дополнительная информация, описание навыков в свободной форме;
* `skill_set` — ключевые навыки (список уникальных строк).
* `citizenship` — гражданство (список). Элемента справочника [areas](areas.md);
* `work_ticket` — разрешение на работу (список). Элемента справочника [areas](areas.md);
* `travel_time` — желательное время в пути до работы. Элемент справочника [travel_time] (dictionaries.md);
* `recommendation` — рекомендации (список). Состоит из полей:
    * `name` — имя;
    * `position` — должность;
    * `organization` — организация;
    * `contact` — телефон;
* `resume_locale` — локаль резюме. Элемент справочника [локали резюме] (locales.md).

Параметры, берущиеся из [подсказок](suggests.md) (`name_id`, `organization_id`, `result_id`, `faculty_id`, `company_id`) являются опциональными. При этом, если данные параметры указаны, то в момент сохранения происходят проверки на их корректность. В случае ошибок заполнения, таких как передача несуществующих идентификаторов или не связанных друг с другом идентификаторов университета и факультета, будет возвращён статус `HTTP 400 Bad Request` с указанием родительского поля, в котором произошла ошибка (`education`, `experience`).
Дополнительно, при указании в опыте работы `company_id` название компании будет подменено на название компании из подсказок.

<a name="publish" />
## Публикация резюме

`POST /resumes/{resume_id}/publish`

При первой публикации резюме оно становится доступно для использования. Повторная публикация означает обновление даты 
резюме. Ключ `next_publish_at` у резюме указывает время, когда можно обновить резюме.

В случае успешной публикации вернётся код ответа `204 No Content`. 

При привышении лимита обновлений — `429 Too Many Requests`.

Если публикация невозможна, так как не заполнены обязательные поля — `400 Bad Request`.

Если операция публикации резюме недоступна из-за отсутствия прав (например, для работодателя) — `403 Forbidden`.


<a name="clone" />
## Клонирование резюме

`POST /resumes?source_resume_id={resume_id}`

В случае успешного клонирования вернётся код ответа `201 Created`, а в заголовке `Location` ответа будет содержаться 
ссылка на новое резюме.

Для клониования можно использовать только собственные резюме, иначе код ответа будет `404 Not Found`.


<a name="conditions" />
## Условия заполнения полей резюме

`GET /resumes/{resume_id}/conditions` — возвращает список требований для полей резюме.

Условия к резюме доступны только его автору, в противном случае вернётся код ответа `403 Forbidden`.

Если резюме не доступно — код ответа `404 Not Found`.

Если условия получены успешно — код ответа `200 OK`.

Пример:
```javascript
{
  "last_name": {
    "required": true,
    "max_length": 100,
    "min_length": 1
  },
  "citizenship": {
    "required": true,
    "min_count": 1,
    "max_count": 3
  },
  "resume_locale": {
    "required": true
  },
  "education": {
    "required": true,
    "fields": {
      "elementary": {
        "required": false,
        "min_count": 0,
        "max_count": 64,
        "fields": {
          "name": {
            "required": true,
            "min_length": 1,
            "max_length": 512
          },
          "year": {
            "required": true,
            "min_value": 1950,
            "max_value": 2023
          }
        }
      },
      "primary": {
        "required": true,
        "min_count": 1,
        "max_count": 64,
        "fields": {
          "result": {
            "required": false,
            "min_length": 1,
            "max_length": 128
          },
          "organization": {
            "required": true,
            "min_length": 1,
            "max_length": 128
          },
          "name": {
            "required": true,
            "min_length": 1,
            "max_length": 512
          },
          "year": {
            "required": true,
            "min_value": 1950,
            "max_value": 2023
          }
        },
      },
      "level": {
        "required": true
      },
      //...
    }
  },
  "salary": {
    "required": false,
    "fields": {
      "currency": {
        "required": true,
        "min_length": 3,
        "max_length": 3
      },
      "amount": {
        "required": true,
        "min_value": 0,
        "max_value": null
      }
    }
  },
  "birth_date": {
    "required": false,
    "min_date": "1900-01-01",
    "max_date": "1999-10-21"
  },
  //...
}
```

Каждое конечное поле описано объектом правил. Если поле в резюме состоит из объекта с несколькими полями, 
эти поля описаны в `fields`. 

Для всех полей и их частей указано, являются ли они необходимыми (`required`). Может быть так, что поле, 
представленное объектом с полями, само по себе не является необходимым, но если заполнено хотя бы одно поле объекта, 
необходимо заполнить и другие его поля. Пример — желаемая зарплата (`salary`) может быть не указана, либо указана,
но обязательно с валютой.

Правила
-------

Имя | Тип | Описание
--- | --- | ---
required | логический | Поле резюме или поле объекта является необходимым.
min_length | целое | Минимальная длина для текстовых полей.
max_length | целое | Максимальная длина для текстовых полей.
min_count | целое | Минимальное количество объектов, для полей, где необходимо передовать список.
max_count | целое или `null` | Максимально количество объектов, для полей, где необходимо передовать список. `null` если количество не ограничено.
min_value | целое | Нижняя граница диапозона числовых значений, включительно.
max_value | целое или `null` | Верхняя граница диапозона числовых значений, включительно. `null` если верхняя границе не определена.
min_date | строка с датой | Нижняя граница диапозона значений дат, включительно.
max_date | строка с датой | Верхняя граница диапозона значений дат, включительно.


<a name="init-conditions" />
## Условия заполнения полей нового резюме

`GET /resume_conditions` — возвращает список требований для полей нового резюме.
Если авторизованный пользователь не соискатель — вернётся код ответа `403 Forbidden`, иначе `200 OK`.


<a name='conditions-contacts' />
## Условия заполнения контактов в резюме
При заполнении контактов в резюме необходимо учитывать следующие условия:
 
 * В резюме обязательно должен быть указан email (и он может быть только один).

 * В резюме должен быть указан хотя бы один телефон, причём можно указывать только один телефон каждого типа.
 
 * Коментарий можно указывать только для телефонов, для email комментарий не сохранится.

 * В контакте типа 'email' value — это email, а для телефонов — объект.
  
Формат поля value для телефона:
```json
{
    "country": "7",
    "city": "123",
    "number": "4567890"
}
``` 
здесь:

 * country — код города;
 * city — код города;
 * number — номер телефона.

 
<a name='conditions-other' />
## Дополнительные правила заполнения полей резюме

Существует ещё несколько правил заполнения резюме, которые не укладываются в представленный выше формат:

 * Нельзя создавать несколько резюме с одинаковым title.

 * Специализации должны быть из одной профессиональной области.

 * Город проживания должен быть из справочника `/areas` и при этом у выбранного города не должно быть потомков, т.е. нельзя указать город проживания «Россия».

 * Ближайшая станция метро должна находиться в городе проживания.

 * Для специализаций из профессиональной области *Начало карьеры, студенты* (id=15) можно не указывать опыт работы и навыки. Для остальных профобластей данные поля должны содержать хотя бы по одной записи.

 * Часть полей резюме являются read-only, их нельзя изменить при помощи POST/PUT на /resumes.


<a name="resume-nano" />
## Короткое представление резюме

Самое короткое представление резюме:
```json
{
    "id": "502ff8b100018bddf30039ed1f63735f4dda66",
    "title": "консультант",
    "url": "https://api.hh.ru/resumes/502ff8b100018bddf30039ed1f63735f4dda66"
}
```

где:

 Имя  | Тип    | Описание
 ---- | ------ | ---
 id   | строка | Идентификатор резюме
 title | строка | Желаемая должность
 url  | строка | Ссылка на получение полной версии резюме

<a name='status' />
## Статус резюме

Ключ `status` определяет текущее состояние резюме и содержит элемента справочника [resume_status](dictionaries.md).
После создания нового резюме оно находится в статусе 'not_published'.
В этом статусе резюме никому не видно, пользователь начинает его наполнять и сохранять. После того как 
`_progress.mandatory` станет пустым списком, резюме можно [опубликовать](#publish).
Публикация резюме переводит его в статус `published`. В этом статусе резюме доступно для поиска, если это позволяет 
[видимость резюме](#access_type).

После перехода в статус `published`, резюме попадает в поле зрения модераторов и может быть заблокировано 
(статус `blocked`), если поля резюме некорректно или малоинформативно заполнены.
Причины блокировки резюме можно найти в ключе `moderation_note`. Заблокированное резюме пропадает из поиска и 
не может быть использовано для отклика на вакансию.

После исправления, резюме можно отправить на повторное рассмотрение модератору.
В этом случае резюме переходит в статус `on_moderation`, откуда может снова перейти в `blocked` или `published`, 
в зависимости от решения модератора.

После публикации резюме (статус установлен в `published`) его нельзя перевести обратно в `not_published`,
но можно скрыть, настроив [видимость резюме](#access_type).

В статусе `published` резюме можно использовать для [отклика на вакансию](negotiations.md), а так же оно появится 
в [списке подходящих для отклика](suitable_resumes.md), если им еще не откликались на эту вакансию. 


<a hame="access_type" />
## Видимость резюме

После публикации резюме доступно для поиска работодателями.
Чтобы это изменить (например, работа найдена и нужно скрыть резюме из поиска), следует поменять видимость резюме.
За это отвечает ключ `access.type` у резюме. Тип видимости — элемент справочника [resume_access_type](dictionaries.md).

 Id  | Описание
 ---- | ---
 no_one | Резюме такого типа никому не видно. Но им можно откликнуться на вакансию, при этом резюме сменит тип на `whitelist`.
 whitelist | Резюме не видно никому, кроме указанных компаний. Если откликнуться на вакансию компании, который не входит в список, компания автоматически в него попадёт.
 blacklist | Резюме доступно для поиска и просмотра всем компаниям, за исключением указанных. Если откликнуться на вакансию компании из черного списка, то компания вычеркивается из него автоматически.
 clients | Резюме доступно всем зарегистрированным компаниям на hh.ru.
 everyone | Резюме доступно всем без исключения (всему интернету).
 direct | Резюме доступно только по прямой ссылке (ссылка указана в ключе `alternate_url`).

<a name="views" />
## История просмотра резюме

`GET /resumes/{resume_id}/views` вернёт историю просмотров резюме. На основном сайте это доступно при клике на кол-во
просмотров резюме на странице со списком резюме текущего пользователя ([http://hh.ru/applicant/resumes](http://hh.ru/applicant/resumes))
Без авторизации или же при обращении к чужому резюме вернёт `403 Forbidden`.
Количество просмотров (в том числе, новых) выдаётся при запросе конкретного резюме и списка резюме.
Счетчик новых просмотров обнуляется при запросе данного ресурса.

```json
{
    "per_page": 20,
    "items": [
        {
            "created_at": "2014-02-05T19:05:58+0400",
            "viewed": true,
            "employer": {
                "logo_urls": {
                    "90": "http://hh.ru/employer/logo/1455",
                }
                "vacancies_url": "https://api.hh.ru/vacancies?employer_id=1455",
                "name": "HeadHunter",
                "url": "https://api.hh.ru/employers/1455",
                "alternate_url": "http://hh.ru/employer/1455",
                "id": "1455"
            }
        }
    ],
    "page": 0,
    "pages": 1,
    "found": 1
}
```

где:

 Имя | Тип | Описание
 --- | --- | ---
 found | число | Количество записей о просмотре резюме ( ≥ 0 )
 pages | число | Количество страниц ( ≥ 0 )
 per_page | число | Количество элементов на страницу ( > 0 )
 page | число | Номер текущей страницы ( ≥ 0 )

В элементе `items` содержатся данные о откликах:

 Имя | Тип | Описание
 --- | --- | ---
 created_at | строка | Дата создания записи, дата просмотра резюме работодателем
 viewed | логический | отметка о просмотре записи (при запросе данного ресурса все запросы помечаются просмотренными)
 employer | объект | информация о компании (см. ниже)

Объект `employer` возвращает краткие данные о компании, является «подмножеством» объекта [компания/работодатель](employers.md).

В случаях, когда просмотр совершен анонимным работодателем, либо резюме было просмотрено из откликов к анонимной вакансии
`employer` может содержать лишь один ключ `name`.

`logo_urls` — изображения логотипа компании разных размеров. Клиент должен предусмотреть вероятность отсутствия ресурса
по указанной ссылке (`404 Not Found`).
