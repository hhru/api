# Резюме для работодателя

* [Поиск резюме](#search)
  * [Получение разрешения на поиск резюме для приложения](#resume-search-request)
  * [Запрос и принимаемые параметры](#search-params)
  * [Ответ](#search-results)

Смотрите также:

* [Просмотр резюме](resumes.md#item)
* [Сохраненные поиски резюме](saved_search.md#resumes-saved-search-list)


<a name="search"></a>
## Поиск резюме


<a name="resume-search-request"></a>
### Получение разрешения на поиск резюме для приложения

**Поиск резюме доступен только при авторизации работодателем и при условии,**
**что приложение входит в список разрешенных.**

Для того, чтобы ваше приложение было включено в этот список, пришлите заявку
в свободной форме на адрес api@hh.ru. В письме опишите:

* ваше приложение, его цели и функциональность,
* Client ID приложения (получить его можно
  [в личном кабинете](https://dev.hh.ru/admin)),
* причины необходимости доступа к поиску резюме, каким образом вы планируете
  использовать результаты поиска резюме,
* при возможности приложите к письму макеты/скриншоты/прототипы.

Включение в список является бесплатной услугой. Все остальные возможности
API, кроме поиска резюме, доступны сразу, без необходимости одобрения.

При подаче заявки обратите внимание на пункты 1.3, 1.5 и 1.6
[Условий использования сервиса API](https://dev.hh.ru/admin/developer_agreement):

> «1.3. HeadHunter вправе отказать без объяснения причин любому Пользователю в
> регистрации любого Приложения на Сайте и получении API-ключа и
> соответственно дальнейшем использовании Сервиса без какой-либо компенсации
> или возмещения в связи с этим.»

...

> «1.5. Пользователем Сервиса могут быть только организации-работодатели,
> использующие Сервис только для целей привлечения потенциальных работников
> и их последующего трудоустройства в организацию-Пользователя.»
>
> «1.6. В случае, если у HeadHunter есть какие-либо основания полагать,
> что Пользователем Сервис потенциально может быть использован не только
> для целей привлечения потенциальных работников и их последующего
> трудоустройства в организацию-Пользователя, HeadHunter вправе в любое
> время отказать в использовании Сервиса (включая и на этапе регистрации
> Приложения Пользователя) Пользователю без какой-либо компенсации или
> возмещения в связи с этим.»


<a name="search-params"></a>
### Запрос и принимаемые параметры

`GET /resumes` вернёт результаты поиска резюме.


Некоторые параметры принимают множественные значения: `key=value&key=value`.

* `text` — поисковая фраза. Найдет резюме в которых встречаются все слова
  заданной фразы. Возможно указание нескольких значений. Каждый дополнительный
  `text` уточняет поиск. В качестве поисковой фразы можно использовать
  [язык поисковых запросов](http://hh.ru/article.xml?articleId=1175).
  Специально для этого поля есть [автодополнение](suggests.md#resume-search-keyword).
  Для тонкой настройки по фразе можно использовать параметры `text.logic`,
  `text.field`, `text.period`. При использовании дополнительных `text.*` полей,
  необходимо указывать весь набор (триаду) параметров. Если параметры будут
  указаны неверно или будет неверный состав этих параметров, то в ответ
  вернется `400 Bad request`.

* `text.logic` – описывает, как производится поиск. Справочник с возможными
  значениями: `resume_search_logic` в [/dictionaries](dictionaries.md).

* `text.field` – описывает, где должны встречаться слова из поисковой фразы
  `text`. В параметре text.field можно укзать несколько значений через запятую,
  например – `?text.field=education,keywords`. Справочник с возможными
  значениями: `resume_search_fields` в [/dictionaries](dictionaries.md).

* `text.period` – период для поиска в опыте работы. Параметр имеет смысл
  только для `text.field` равного одному из: `experience`, `experience_company`,
  `experience_position`, `experience_description`, но указывать его необходимо
  всегда  при указании других `text.*`. В этом случае он может быть пустым.

Например:

* `GET /resumes?text=программист` – найдет все резюме, в любом месте которого
  встречается заданное слово 'программист'.

* `GET /resumes?text=программист&text=java` – найдет резюме, в любом месте
  которого встречаются слова 'программист' и 'java'.

* `GET /resumes?text=программист%20java&text.logic=any&text.field=everywhere&text.period=all_time` –
  найдет резюме, в любом месте которого встречается любое из слов заданной
  фразы в параметре `text` ('программист' или 'java'). При использовании
  дополнительных полей, они должны быть указаны все.

* `GET /resumes?text=Headhunter&text.logic=all&text.field=experience&text.period=last_three_years` –
  найдет все резюме, в опыте работы которых за последние 3 года встречается
  'Headhunter'.

* `GET /resumes?text=менеджер%20проекта&text.logic=all&text.field=experience%2Cskills&text.period=last_year&text=ответственный&text.logic=all&text.field=everywhere&text.period=all_time` –
  найдет все резюме, в опыте работы за последний год и ключевых навыках которых
  встречаются слова 'менеджер' и 'проекта', а также слово 'ответственный'
  в любом месте резюме. Отметим, что дополнительные параметры
  `text.logic=all&text.field=experience%2Cskills&text.period=last_year`
  указаны для `text=менеджер%20проекта`, а
  `text.logic=all&text.field=everywhere&text.period=all_time` для параметра
  `text=ответственный`.

* `age_from`, `age_to` — возраст соискателя в годах, диапазон от и до.

* `area` — регион. Справочник с возможными значениями: [/areas](areas.md).
  Можно указать несколько значений. По-умолчанию выбираются
  резюме, в которых соискатели живут в указанных регионах или готовы в них
  переехать, поменять это поведение можно указанием поля `relocation`.

* `relocation` — готовность к переезду. Справочник с возможными
  значениями: `resume_search_relocation` в [/dictionaries](dictionaries.md).
  Необходимо указывать вместе с параметром `area`.

* `period` — в днях, ищет резюме опубликованные за указанный период.
  Если не указан, поиск ведется без ограничений по дате публикации.

* `date_from` – дата, от которой нужно начать поиск. Значение указывается в
  формате `dd.mm.yyyy`. Нельзя передавать вместе с параметром `period`.

* `date_to` – дата, до которой нужно искать. Значение указывается в
  формате `dd.mm.yyyy`. Можно передавать только в паре с параметром `date_from`.
  Нельзя передавать вместе с параметром `period`.

* `education_level` —  уровень образования. Справочник с возможными значениями:
  `education_level` в [/dictionaries](dictionaries.md). Если не указан, поиск
  ведется без ограничений на уровень образования.

* `employment` — тип занятости.
  Справочник с возможными значениями: `employment` в
  [/dictionaries](dictionaries.md). Можно указать несколько значений.

* `experience` — опыт работы. Справочник с возможными значениями: `experience`
  в [/dictionaries](dictionaries.md).

* `skill` - ключевые навыки. Указывается один или несколько идентификаторов
  ключевых навыков. Значения можно получить из поля `id` в
  [подсказке по ключевым навыкам](suggests.md#key-skills).

* `gender` — пол. Справочник с возможными значениями: `gender` в
  [/dictionaries](dictionaries.md). По-умолчанию в не зависимости от значения
  параметра будут найдены резюме, в который пол не указан, убрать такие резюме
  можно с помощью `label=only_with_gender`.

* `label` — дополнительный фильтр. Справочник с возможными значениями:
  `resume_search_label` в [/dictionaries](dictionaries.md). Можно указать
  несколько значений.

* `language` — знание языка. Можно указать несколько значений. Задается в
  формате language.level, где:
     * `language` — значение из справочника [/languages](languages.md),
     * `level` — значение из справочника `language_level`
       [/dictionaries](dictionaries.md).

* `metro` — линия, либо станция метро. Справочник с возможными значениями:
  [/metro](metro.md).

* `currency` — код валюты. Справочник с возможными значениями: `currency`
  (ключ code) в [/dictionaries](dictionaries.md).

* `salary_from`, `salary_to` — диапазон желаемой заработной платы, от и до.

* `schedule` — график работы. Справочник с возможными значениями:
  `schedule` в [/dictionaries](dictionaries.md). Можно указать несколько
  значений.

* `specialization` — профобласть или специализация. Справочник с возможными
  значениями: [/specializations](specializations.md). Можно указать несколько
  значений.

* `order_by` — сортировка списка резюме. Справочник с возможными значениями:
  `resume_search_order` в [/dictionaries](dictionaries.md).

* `per_page` — количество результатов на страницу (не может превышать 50).

* `page` — номер страницы.

* `citizenship` — страна желаемого гражданства. Возможные значения можно
  посмотреть в справочнике стран. Возможно указание нескольких значений.

* `work_ticket` — страна, в которой есть разрешение на работу. Возможные
  значения можно посмотреть в справочнике стран. Возможно указание нескольких
  значений.

* `educational_institution` – учебные заведения соискателя. В качестве
  параметров используются подсказки по названиям университетов
  [/suggests/educational_institutions](suggests.md). Возможно указание
  нескольких значений.

Если параметры переданы с ошибкой, то в ответ вернется `400 Bad request` с
описанием ошибки в теле. Неизвестные параметры и параметры с ошибкой в названии
игнорируются.

При указании параметров пэйджинга (`page`, `per_page`) работает ограничение:
глубина возвращаемых результатов не может быть больше 2000. Например, возможен
запрос `per_page=10&page=199` (выдача с 1991 по 2000 резюме), но запрос с
`per_page=10&page=200` вернёт ошибку (выдача с 2001 до 2010 резюме).


<a name="search-results"></a>
### Ответ

При запросе с авторизацией соискателем/анонимом вернется ошибка `403`.


```json
{
    "found": 2099341,
    "per_page": 20,
    "page": 0,
    "pages": 250,
    "items": [
        {
            "id": "0123456789abcdef",
            "title": "Начинающий специалист",
            "url": "https://api.hh.ru/resumes/0123456789abcdef",
            "first_name": "Иван",
            "last_name": "Иванов",
            "middle_name": "Иванович",
            "can_view_full_info": true,
            "age": 19,
            "alternate_url": "http://hh.ru/resume/0123456789abcdef",
            "created_at": "2015-02-06T12:00:00+0300",
            "updated_at": "2015-04-20T16:24:15+0300",
            "area": {
                "id": "1",
                "name": "Москва",
                "url": "https://api.hh.ru/areas/1"
            },
            "certificate": [
                {
                    "achieved_at": "2015-01-01",
                    "owner": null,
                    "title": "тест",
                    "type": "custom",
                    "url": "http://example.com/"
                }
            ],
            "education": {
                "primary": [
                    {
                        "name": "Российский государственный социальный университет, Москва",
                        "name_id": "39420",
                        "organization": "Факультет информационных технологий",
                        "organization_id": null,
                        "result": "Информатика",
                        "result_id": null,
                        "year": 2012
                    }
                ]
            },
            "total_experience": {
                "months": 118
            },
            "experience": [
                {
                    "position": "пастух",
                    "start": "2010-01-01",
                    "end": null,
                    "company": "Рога и копыта",
                    "industries": [
                        {
                            "id": "51.643",
                            "name": "Благоустройство и уборка территорий и зданий"
                        },
                        {
                            "id": "29.503",
                            "name": "Земледелие, растениеводство, животноводство"
                        }
                    ],
                    "company_url": "http://example.com/",
                    "area": {
                        "id": "1",
                        "name": "Москва",
                        "url": "https://api.hh.ru/areas/1"
                    },
                    "company_id": null,
                    "employer": null
                },
                {
                    "start": "2005-01-01",
                    "end": "2009-03-01",
                    "company": "HeadHunter",
                    "area": {
                        "id": "1",
                        "name": "Москва",
                        "url": "https://api.hh.ru/areas/1"
                    },
                    "industries": [
                        {
                            "id": "7.513",
                            "name": "Интернет-компания  (поисковики, платежные системы, соц.сети, информационно-познавательные и развлекательные ресурсы, продвижение сайтов и прочее)"
                        }
                    ],
                    "company_url": "http://hh.ru",
                    "company_id": "1455",
                    "employer": {
                        "alternate_url": "http://hh.ru/employer/1455",
                        "id": "1455",
                        "logo_urls": {
                            "90": "http://hh.ru/employer/logo/1455"
                        },
                        "name": "HeadHunter",
                        "url": "https://api.hh.ru/employers/1455"
                    }
                }
            ],
            "gender": {
                "id": "male",
                "name": "Мужской"
            },
            "salary": {
                "amount": 1000000,
                "currency": "RUR"
            },
            "photo": {
                "medium": "http://hh.ru/...",
                "small": "http://hh.ru/...",
                "id": "1337"
            },
            "owner": {
                "comments": {
                    "url": "https://api.hh.ru/applicant_comments/123456"
                }
            }
        }
    ]
}
```

Настройки вывода полей в поиске резюме на сайте не влияют на выдачу в API.

Резюме выводится не целиком. В объекте опыта отсутствует описание
(поле `description`), а также должность (поле `position`) доступна только в
последнем опыте. Образование выводится только основное.

Контактная информация (ФИО) будет присутствовать только при оплаченном доступе.

Для получения полной информации необходимо запросить [полное резюме](resumes.md#item).
У соискателя запрос резюме будет отражён в истории просмотров.

Поля резюме аналогичны [полям при редактировании резюме](resumes.md#resume-keys).

Работодателю дополнительно выдаётся поле `owner.comments.url`, содержащее
url, GET запрос на который возвращает
[список комментариев к владельцу резюме](applicant_comments.md#list).

